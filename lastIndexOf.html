<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>lastIndexOf</title>

  <link rel="stylesheet" href="css/style.css">

</head>
<body>

  <script type="text/javascript" src="simpletest.js"></script>
  <script>

  // Prototype implementation:
  function lastIndexOf(array, seachElement, fromIndex) {
    var startIndex = array.length-1;

    if (fromIndex) {
      if (fromIndex < 0) {
        startIndex = array.length;
        startIndex = startIndex + fromIndex;
      }
      else {
        startIndex = fromIndex;
      }
    }

    // We will start searching the array back to fort. So startIndex is array.length
    for (var i = startIndex; i >= 0; i--) {
      if (array[i] === seachElement) {
        return i;
      }
    }

    return -1;
  }

  // ------------------------------------------------- //

  // Function signature:
    // lastIndexOf(array, searchElement[, fromIndex]);

  // Return value:
    // The first index of the element in the array; -1 if not found.

  // Tests:
    // Example 1: It should return the last index of the provided searchElement in the array.
    // Example 2: It should return the index of the provided fromIndex passed in as an argument.
    // Example 3: When startIndex is equal or greater than array.length, the whole array will be searched.
    // Example 4: It should return -1 if the index of the provided searchElement is not found.
    // Example 5: If the provided fromIndex value is a negative number, it is taken as the offset from the end of the array.

  tests({

    'It should return the last index of the provided searchElement in the array.': function() {
      var array = ['a','b','c','b'];
      var returnedIndex = lastIndexOf(array, 'b');
      eq(returnedIndex, 3);
      eq(returnedIndex !== 1, true);
    },

    'It should return the index of the provided fromIndex passed in as an argument.': function() {
      var array = ['a','b','c','b'];
      var returnedIndex = lastIndexOf(array, 'b', 2);
      eq(returnedIndex, 1);
      eq(returnedIndex !== 3, true);
    },

    'When startIndex is equal or greater than array.length, the whole array will be searched.': function() {
      var array = ['a','b','c'];
      var returnedIndex = lastIndexOf(array, 'b', 4);
      eq(returnedIndex, 1);
    },

    'It should return -1 if the index of the provided searchElement is not found.': function() {
      var array = ['a','b','c'];
      var returnedIndex = lastIndexOf(array, 'd');
      eq(returnedIndex, -1);
    },

    'If the provided fromIndex value is a negative number, it is taken as the offset from the end of the array.': function() {
      debugger;
      var array = [2, 5, 9, 2];
      var returnedIndex = lastIndexOf(array, 2, -1);
      eq(returnedIndex, 3);
    },

  });


  </script>

</body>
</html>
